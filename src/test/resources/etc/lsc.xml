<?xml version="1.0" ?>
<lsc xmlns="http://lsc-project.org/XSD/lsc-core-2.2.xsd" revision="0">
	<connections>
		<ldapConnection>
			<name>src-ldap</name>
			<url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
			<username>cn=Directory Manager,ou=system</username>
			<password>secret</password>
			<authentication>SIMPLE</authentication>
			<referral>IGNORE</referral>
			<derefAliases>NEVER</derefAliases>
			<version>VERSION_3</version>
			<pageSize>-1</pageSize>
			<factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
			<tlsActivated>false</tlsActivated>
			<saslMutualAuthentication>false</saslMutualAuthentication>
			<binaryAttributes><string>personalSignature</string></binaryAttributes>
		</ldapConnection>
		<ldapConnection>
			<name>dst-ldap</name>
			<url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
			<username>cn=Directory Manager,ou=system</username>
			<password>secret</password>
			<authentication>SIMPLE</authentication>
			<referral>IGNORE</referral>
			<derefAliases>NEVER</derefAliases>
			<version>VERSION_3</version>
			<pageSize>-1</pageSize>
			<factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
			<tlsActivated>false</tlsActivated>
			<saslMutualAuthentication>false</saslMutualAuthentication>
			<binaryAttributes><string>personalSignature</string></binaryAttributes>
		</ldapConnection>
		<ldapConnection>
			<name>dst-ldap-relaxrules</name>
			<url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
			<username>cn=Directory Manager,ou=system</username>
			<password>secret</password>
			<authentication>SIMPLE</authentication>
			<referral>IGNORE</referral>
			<derefAliases>NEVER</derefAliases>
			<version>VERSION_3</version>
			<pageSize>-1</pageSize>
			<factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
			<tlsActivated>false</tlsActivated>
			<saslMutualAuthentication>false</saslMutualAuthentication>
			<relaxRules>true</relaxRules>
		</ldapConnection>
		<ldapConnection>
			<name>dst-ldap-recursivedelete</name>
			<url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
			<username>cn=Directory Manager,ou=system</username>
			<password>secret</password>
			<authentication>SIMPLE</authentication>
			<referral>IGNORE</referral>
			<derefAliases>NEVER</derefAliases>
			<version>VERSION_3</version>
			<pageSize>-1</pageSize>
			<factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
			<tlsActivated>false</tlsActivated>
			<saslMutualAuthentication>false</saslMutualAuthentication>
			<recursiveDelete>true</recursiveDelete>
		</ldapConnection>
		<databaseConnection>
			<name>src-jdbc</name>
			<url>jdbc:hsqldb:file:hsqldb/lsc</url>
			<username>sa</username>
			<password></password>
			<driver>org.hsqldb.jdbcDriver</driver>
		</databaseConnection>
		<databaseConnection>
			<name>dst-jdbc</name>
			<url>jdbc:hsqldb:hsql://localhost/lscdb</url>
			<username>sa</username>
			<password></password>
			<driver>org.hsqldb.jdbcDriver</driver>
		</databaseConnection>
	</connections>
	<tasks>
		<task>
			<name>ldap2ldapTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapTestTask-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
					<string>sn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>userPassword</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>jpegPhoto</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(sn=*))</getAllFilter>
				<getOneFilter>(sn={sn})</getOneFilter>
				<filterAsync>(&amp;(sn=*)(modifytimestamp&gt;={0}))</filterAsync>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapTestTask-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
					<string>sn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>jpegPhoto</string>
					<string>mail</string>
				</fetchedAttributes>
				<getAllFilter>(sn=*)</getAllFilter>
				<getOneFilter>(sn={sn})</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>telephoneNumber</name>
					<policy>MERGE</policy>
					<defaultValues>
						<string>"123456"</string>
						<string>"789987"</string>
					</defaultValues>
					<createValues>
						<string>"000000"</string>
						<string>"11111"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>objectclass</name>
					<policy>MERGE</policy>
					<defaultValues>
						<string>"person"</string>
						<string>"top"</string>
					</defaultValues>
					<createValues>
						<string>"inetOrgPerson"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>initials</name>
					<policy>FORCE</policy>
					<createValues>
						<string>"cn=oops"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>default</name>
					<policy>FORCE</policy>
				</dataset>
				<dataset>
					<name>description</name>
					<policy>MERGE</policy>
					<forceValues>
			<string>
					var j=0;
					var dstDescriptionValues = new Array();
					var srcDescriptionValues = srcBean.getDatasetById("description").toArray() ;
					for (var i=0; i &lt; srcDescriptionValues.length; i++ ) {
							if ( srcDescriptionValues[i] != null ) {
								// The sample just copy the value, but you can do what you want there !
								// Just keep in mind to force a correct data type because the source values are mapped to a generic Object type
								// which will not be well handled by the Javascript engine !
								dstDescriptionValues[j++] = "modified: " + srcDescriptionValues[i];
						 	}
					}
					dstDescriptionValues
			</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>seeAlso</name>
					<policy>FORCE</policy>
				</dataset>
				 <dataset>
					<name>jpegPhoto</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>srcBean.getDatasetFirstBinaryValueById("jpegPhoto")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>userPassword</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>mail</name>
					<policy>FORCE</policy>
					<createValues>
						<string>"ok@domain.net"</string>
					</createValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<!-- ======================================================== -->
		<!-- Synchronization DB -> LDAP                               -->
		<!-- We will use the sn+gn as the pivot attribute in the      -->
		<!-- destination LDAP server                                  -->
		<!-- ======================================================== -->
		<task>
			<name>db2ldapSyncTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<databaseSourceService>
				<name>db2ldapTestTask-src</name>
				<connection reference="src-jdbc"/>
				<requestNameForList>getListTestDb2Ldap</requestNameForList>
				<requestNameForObject>getObjectTestDb2Ldap</requestNameForObject>
				<requestNameForClean>getObjectForDeleteTestDb2Ldap</requestNameForClean>
			</databaseSourceService>
			<ldapDestinationService>
				<name>db2ldapTestTask-dst</name>
				<connection reference="dst-ldap"/>
				<baseDn>ou=db2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>sn</string>
					<string>gn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>mail</string>
					<string>gn</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(sn=*)(gn=*))</getAllFilter>
				<getOneFilter>(&amp;(sn={sn})(gn={gn}))</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("gn") + " " + srcBean.getDatasetFirstValueById("sn") + ",ou=db2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<defaultValues></defaultValues>
					<forceValues>
						<string>srcBean.getDatasetFirstValueById("gn") + " " + srcBean.getDatasetFirstValueById("sn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>telephoneNumber</name>
					<policy>MERGE</policy>
					<defaultValues>
						<string>"123456"</string>
						<string>"789987"</string>
					</defaultValues>
					<forceValues></forceValues>
					<createValues>
						<string>"000000"</string>
						<string>"11111"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<defaultValues>
						<string>"person"</string>
						<string>"top"</string>
						<string>"organizationalPerson"</string>
						<string>"inetOrgPerson"</string>
					</defaultValues>
					<forceValues></forceValues>
					<createValues>
						<string>"person"</string>
						<string>"top"</string>
						<string>"organizationalPerson"</string>
						<string>"inetOrgPerson"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>gn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>srcBean.getDatasetFirstValueById("gn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>default</name>
					<policy>FORCE</policy>
				</dataset>
				<dataset>
					<name>description</name>
					<policy>MERGE</policy>
					<defaultValues>
						<string>srcBean.getDatasetFirstValueById("userPassword")</string>
					</defaultValues>
				</dataset>
				<dataset>
					<name>userPassword</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>srcBean.getDatasetFirstValueById("password")</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapJmxTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapJmxTestTask-src</name>
				<connection reference="src-ldap" />
				<baseDn>ou=ldap2ldapJmxTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
					<string>sn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>userPassword</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(sn=*))</getAllFilter>
				<getOneFilter>(sn={sn})</getOneFilter>
				<filterAsync>(&amp;(sn=*)(modifytimestamp&gt;={0}))</filterAsync>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapJmxTestTask-dst</name>
				<connection reference="dst-ldap" />
				<baseDn>ou=ldap2ldapJmxTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
					<string>sn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>mail</string>
				</fetchedAttributes>
				<getAllFilter>(sn=*)</getAllFilter>
				<getOneFilter>(sn={sn})</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapJmxTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>srcBean.getDatasetFirstValueById("cn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>objectclass</name>
					<policy>KEEP</policy>
					<createValues>
						<string>"person"</string>
						<string>"top"</string>
						<string>"organizationalPerson"</string>
						<string>"inetOrgPerson"</string>
					</createValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapBinaryTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapBinaryTestTask-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldapBinaryTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>personalSignature</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>userPassword</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>personalSignature</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(personalSignature=*))</getAllFilter>
				<getOneFilter>(personalSignature={personalSignature})</getOneFilter>
				<cleanFilter>(personalSignature={personalSignature})</cleanFilter>
				<filterAsync>(&amp;(personalSignature=*)(modifytimestamp&gt;={0}))</filterAsync>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapBinaryTestTask-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldapBinaryTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>personalSignature</string>
					<string>sn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>mail</string>
					<string>personalSignature</string>
				</fetchedAttributes>
				<getAllFilter>(personalSignature=*)</getAllFilter>
				<getOneFilter>(personalSignature={personalSignature})</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapBinaryTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>objectClass</name>
					<policy>KEEP</policy>
					<createValues>
						<string>"pilotPerson"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>userPassword</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapBinary2StringTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapBinary2StringTestTask-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldapBinary2StringTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>personalSignature</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>userPassword</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>personalSignature</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(personalSignature=*))</getAllFilter>
				<getOneFilter>(personalSignature={personalSignature})</getOneFilter>
				<filterAsync>(&amp;(personalSignature=*)(modifytimestamp&gt;={0}))</filterAsync>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapBinary2StringTestTask-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldapBinary2StringTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>favouriteDrink</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>mail</string>
					<string>favouriteDrink</string>
				</fetchedAttributes>
				<getAllFilter>(favouriteDrink=*)</getAllFilter>
				<getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapBinary2StringTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<pivotTransformation>
					<transformation fromAttribute="personalSignature" toAttribute="favouriteDrink"><![CDATA[
						var result = "";
						for (var i = 0; i < value.length; i++) {
							if (result != "") {
								result += "-";
							}
							result += parseInt(value[i]);
						}
						result;
					]]></transformation>
					<transformation fromAttribute="favouriteDrink" toAttribute="personalSignature"><![CDATA[
						var result = [];
						for (var i = 0; i < value.length; i++) {
							if (value[i] != '-') {
								result.push(parseInt(value[i]));
							}
						}
						var javaResult = java.lang.reflect.Array.newInstance(java.lang.Byte.TYPE, result.length);
						for (var i = 0; i < result.length ; i++) {
							javaResult[i] = result[i];
						}
						javaResult;	
					]]></transformation>
				</pivotTransformation>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>objectClass</name>
					<policy>KEEP</policy>
					<createValues>
						<string>"pilotPerson"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>userPassword</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>favouriteDrink</name>
					<forceValues>
						<string><![CDATA[
							var value = srcBean.getDatasetById("personalSignature").iterator().next();
						var result = "";
						for (var i = 0; i < value.length; i++) {
							if (result != "") {
								result += "-";
							}
							result += parseInt(value[i]);
						}
						result;
					]]></string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapSamePivotConversionTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapSamePivotConversionTestTask-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldapSamePivotConversionTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>favouriteDrink</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>userPassword</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>favouriteDrink</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(favouriteDrink=*))</getAllFilter>
				<getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
				<filterAsync>(&amp;(favouriteDrink=*)(modifytimestamp&gt;={0}))</filterAsync>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapSamePivotConversionTestTask-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldapSamePivotConversionTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>favouriteDrink</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>cn</string>
					<string>objectClass</string>
					<string>userPassword</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>seeAlso</string>
					<string>mail</string>
					<string>favouriteDrink</string>
				</fetchedAttributes>
				<getAllFilter>(favouriteDrink=*)</getAllFilter>
				<getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapSamePivotConversionTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<pivotTransformation>
					<transformation fromAttribute="favouriteDrink" toAttribute="favouriteDrink" pivotOrigin="SOURCE"><![CDATA[
						value.replace('-src', '-dst');
					]]></transformation>
					<transformation fromAttribute="favouriteDrink" toAttribute="favouriteDrink" pivotOrigin="DESTINATION"><![CDATA[
						value.replace('-dst', '-src');
					]]></transformation>
				</pivotTransformation>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>objectClass</name>
					<policy>KEEP</policy>
					<createValues>
						<string>"pilotPerson"</string>
					</createValues>
				</dataset>
				<dataset>
					<name>userPassword</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>favouriteDrink</name>
					<forceValues>
						<string><![CDATA[
							var value = srcBean.getDatasetFirstValueById("favouriteDrink");
							value.replace('-src', '-dst');
					]]></string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2dbTestTask</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2dbTestTask-src</name>
				<connection reference="src-ldap" />
				<baseDn>ou=ldap2db2TestTask,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>externalId</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>externalId</string>
					<string>description</string>
					<string>cn</string>
					<string>sn</string>
					<string>telephoneNumber</string>
					<string>carLicense</string>
				</fetchedAttributes>
				<getAllFilter>(&amp;(externalId=*))</getAllFilter>
				<getOneFilter>(externalId={externalId})</getOneFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
			</ldapSourceService>
			<databaseDestinationService>
				<name>ldap2dbTestTask-dst</name>
				<connection reference="dst-jdbc"/>
				<requestNameForList>getInetOrgPersonList</requestNameForList>
				<requestNameForObject>getInetOrgPerson</requestNameForObject>
				<requestsNameForInsert>
					<string>insertInetOrgPerson</string>
				</requestsNameForInsert>
				<requestsNameForUpdate>
					<string>updateInetOrgPerson</string>
				</requestsNameForUpdate>
				<requestsNameForDelete>
					<string>deleteInetOrgPerson</string>
				</requestsNameForDelete>
			</databaseDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>srcBean.getMainIdentifier()</mainIdentifier>
				<defaultDelimiter>|</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
			</propertiesBasedSyncOptions>			
		</task>
		<task>
			<name>ldap2ldapOrderedTestTask1</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOrderedTestTask1-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-B)</getAllFilter>
				<getOneFilter>(cn=CN0001-B)</getOneFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOrderedTestTask1-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-C)</getAllFilter>
				<getOneFilter>(cn=CN0001-C)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-C,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-C"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-C"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapOrderedTestTask2</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOrderedTestTask2-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-A)</getAllFilter>
				<getOneFilter>(cn=CN0001-A)</getOneFilter>
				<cleanFilter>(cn=CN0001-A)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOrderedTestTask2-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-B)</getAllFilter>
				<getOneFilter>(cn=CN0001-B)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-B,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-B"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-B"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapOrderedTestTask3</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOrderedTestTask3-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOrderedTestTask3-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-A)</getAllFilter>
				<getOneFilter>(cn=CN0001-A)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-A,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-A"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-A"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapLDIFHookTestCreate</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapLDIFHookTestCreate-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapLDIFHookTestCreate-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>ldif</outputFormat>
					<createPostHook>bin/hook-ldif.sh</createPostHook>
				</hooks>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapLDIFHookTestUpdate</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapLDIFHookTestUpdate-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapLDIFHookTestUpdate-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>ldif</outputFormat>
					<updatePostHook>bin/hook-ldif.sh</updatePostHook>
				</hooks>
				<dataset>
					<name>description</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapLDIFHookTestDelete</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapLDIFHookTestDelete-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getAllFilter>
				<getOneFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getOneFilter>
				<cleanFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapLDIFHookTestDelete-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>description</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>ldif</outputFormat>
					<deletePostHook>bin/hook-ldif.sh</deletePostHook>
				</hooks>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapJSONHookTestCreate</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapJSONHookTestCreate-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapJSONHookTestCreate-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>json</outputFormat>
					<createPostHook>bin/hook-json.sh</createPostHook>
				</hooks>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapJSONHookTestUpdate</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapJSONHookTestUpdate-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapJSONHookTestUpdate-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>description</string>
					<string>userCertificate;binary</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>json</outputFormat>
					<updatePostHook>bin/hook-json.sh</updatePostHook>
				</hooks>
				<dataset>
					<name>description</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>userCertificate;binary</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>
						<![CDATA[
							function toBinary(base64) {
									return java.util.Base64.getDecoder().decode(new java.lang.String(base64));
							}
							toBinary("MIIDkTCCAnmgAwIBAgIUDhx/9qofTrT+yNFFvihdDn7rjOQwDQYJKoZIhvcNAQELBQAwWDELMAkGA1UEBhMCRlIxDTALBgNVBAgMBHRlc3QxDTALBgNVBAcMBHRlc3QxDTALBgNVBAoMBHRlc3QxDTALBgNVBAsMBHRlc3QxDTALBgNVBAMMBHRlc3QwHhcNMjMxMDI3MTQzMDQxWhcNMzMxMDI0MTQzMDQxWjBYMQswCQYDVQQGEwJGUjENMAsGA1UECAwEdGVzdDENMAsGA1UEBwwEdGVzdDENMAsGA1UECgwEdGVzdDENMAsGA1UECwwEdGVzdDENMAsGA1UEAwwEdGVzdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKdWt0QgFnEi7a1hIJQv4ZdOM5y0GGLHQYNrUNSReArvpkYUY5zasFNVzVHCApRuj0t1NMDrn1gNzKkxTIbYGaWRSn+21J0ow+Nxh2TAQW8dkJnWTksCfyGGGItI5q3ST3EUKnepaAzUYYENcSHRyx7UY/3XuzcW0aGhy4PrVTIHBpyLq0Uzv8nH5nbWM+LYt6YbQMmlAz/psTXIC2dfEZhUb4plLGSo7rZxM5geC6Z+os+I8+uw+mGjps1VP7eGq0jCGHNs2rUHMqBNgLvwMH2WlMXo/iNarAb8fUEPdp59FwiTygBlWAn6GoKHJ1HWPpqMxdtjL2Y5+ZMcp70eJqcCAwEAAaNTMFEwHQYDVR0OBBYEFLwffjUBL/Rp4a6MgeCJiFnCZFu8MB8GA1UdIwQYMBaAFLwffjUBL/Rp4a6MgeCJiFnCZFu8MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBACjwsg1Z9PyauoKAhkIfyPTEnlEOCo1nN37c2vnH4fyY6fuBdV6GWtk/u9FCuDmYT/4KDRxe33ZUChwSUX0INgamOarWRES3UoPC1GeOvuMf7uustEMLcHAYZVKXSZUrsOjw+VIZ5XrD6GDE64QtvW5Ve3jf43aGgLf27NF0vhF9+gHOZjjBT33S977HUutMUKfRu9PdHAn8Yb1FmSbAvqqK+SAjn6cJC8l5yS5t0BSNQGbKSA8bPzvWI9HXYVvb+ym6GDrsr+Zad3NrqUSZGzS2JFEDVD9aAikldXu6g02fA5A7nufVePmaG7iTyylO/ZU2lTiJ0SHc2DnO0pg2i+0=")
						]]>
						</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>
		<task>
			<name>ldap2ldapJSONHookTestDelete</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapJSONHookTestDelete-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getAllFilter>
				<getOneFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getOneFilter>
				<cleanFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapJSONHookTestDelete-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>description</string>
					<string>objectClass</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001-hook)</getAllFilter>
				<getOneFilter>(cn=CN0001-hook)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<hooks>
					<outputFormat>json</outputFormat>
					<deletePostHook>bin/hook-json.sh</deletePostHook>
				</hooks>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"CN0001-hook"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>

		<task>
			<name>ldap2ldapOptimizeValueReplacementTestCreate</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOptimizeValueReplacementTestCreate-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
				</fetchedAttributes>
				<getAllFilter>(cn=CN0001)</getAllFilter>
				<getOneFilter>(cn=CN0001)</getOneFilter>
				<cleanFilter>(cn=CN0001)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOptimizeValueReplacementTestCreate-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>sn</string>
					<string>objectClass</string>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=optimizevaluereplacement)</getAllFilter>
				<getOneFilter>(cn=optimizevaluereplacement)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=optimizevaluereplacement,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>KEEP</defaultPolicy>
				<dataset>
					<name>objectclass</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"inetOrgPerson"</string>
						<string>"person"</string>
						<string>"top"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"optimizevaluereplacement"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>sn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"optimizevaluereplacement"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>description</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"value001"</string>
						<string>"value002"</string>
						<string>"value003"</string>
						<string>"value004"</string>
						<string>"value005"</string>
						<string>"value006"</string>
						<string>"value007"</string>
						<string>"value008"</string>
						<string>"value009"</string>
						<string>"value010"</string>
						<string>"value011"</string>
						<string>"value012"</string>
						<string>"value013"</string>
						<string>"value014"</string>
						<string>"value015"</string>
						<string>"value016"</string>
						<string>"value017"</string>
						<string>"value018"</string>
						<string>"value019"</string>
						<string>"value020"</string>
						<string>"value021"</string>
						<string>"value022"</string>
						<string>"value023"</string>
						<string>"value024"</string>
						<string>"value025"</string>
						<string>"value026"</string>
						<string>"value027"</string>
						<string>"value028"</string>
						<string>"value029"</string>
						<string>"value030"</string>
						<string>"value031"</string>
						<string>"value032"</string>
						<string>"value033"</string>
						<string>"value034"</string>
						<string>"value035"</string>
						<string>"value036"</string>
						<string>"value037"</string>
						<string>"value038"</string>
						<string>"value039"</string>
						<string>"value040"</string>
						<string>"value041"</string>
						<string>"value042"</string>
						<string>"value043"</string>
						<string>"value044"</string>
						<string>"value045"</string>
						<string>"value046"</string>
						<string>"value047"</string>
						<string>"value048"</string>
						<string>"value049"</string>
						<string>"value050"</string>
						<string>"value051"</string>
						<string>"value052"</string>
						<string>"value053"</string>
						<string>"value054"</string>
						<string>"value055"</string>
						<string>"value056"</string>
						<string>"value057"</string>
						<string>"value058"</string>
						<string>"value059"</string>
						<string>"value060"</string>
						<string>"value061"</string>
						<string>"value062"</string>
						<string>"value063"</string>
						<string>"value064"</string>
						<string>"value065"</string>
						<string>"value066"</string>
						<string>"value067"</string>
						<string>"value068"</string>
						<string>"value069"</string>
						<string>"value070"</string>
						<string>"value071"</string>
						<string>"value072"</string>
						<string>"value073"</string>
						<string>"value074"</string>
						<string>"value075"</string>
						<string>"value076"</string>
						<string>"value077"</string>
						<string>"value078"</string>
						<string>"value079"</string>
						<string>"value080"</string>
						<string>"value081"</string>
						<string>"value082"</string>
						<string>"value083"</string>
						<string>"value084"</string>
						<string>"value085"</string>
						<string>"value086"</string>
						<string>"value087"</string>
						<string>"value088"</string>
						<string>"value089"</string>
						<string>"value090"</string>
						<string>"value091"</string>
						<string>"value092"</string>
						<string>"value093"</string>
						<string>"value094"</string>
						<string>"value095"</string>
						<string>"value096"</string>
						<string>"value097"</string>
						<string>"value098"</string>
						<string>"value099"</string>
						<string>"value100"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>

		<task>
			<name>ldap2ldapOptimizeValueReplacementTestUpdate1</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOptimizeValueReplacementTestUpdate1-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=optimizevaluereplacement)</getAllFilter>
				<getOneFilter>(cn=optimizevaluereplacement)</getOneFilter>
				<cleanFilter>(cn=optimizevaluereplacement)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOptimizeValueReplacementTestUpdate1-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=optimizevaluereplacement)</getAllFilter>
				<getOneFilter>(cn=optimizevaluereplacement)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=optimizevaluereplacement,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"optimizevaluereplacement"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>description</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"value001"</string>
						<string>"value002"</string>
						<string>"value003"</string>
						<string>"value004"</string>
						<string>"value005"</string>
						<string>"value006"</string>
						<string>"value007"</string>
						<string>"value008"</string>
						<string>"value009"</string>
						<string>"value010"</string>
						<string>"value011"</string>
						<string>"value012"</string>
						<string>"value013"</string>
						<string>"value014"</string>
						<string>"value015"</string>
						<string>"value016"</string>
						<string>"value017"</string>
						<string>"value018"</string>
						<string>"value019"</string>
						<string>"value020"</string>
						<string>"value021"</string>
						<string>"value022"</string>
						<string>"value023"</string>
						<string>"value024"</string>
						<string>"value025"</string>
						<string>"value026"</string>
						<string>"value027"</string>
						<string>"value028"</string>
						<string>"value029"</string>
						<string>"value030"</string>
						<string>"value031"</string>
						<string>"value032"</string>
						<string>"value033"</string>
						<string>"value034"</string>
						<string>"value035"</string>
						<string>"value036"</string>
						<string>"value037"</string>
						<string>"value038"</string>
						<string>"value039"</string>
						<string>"value040"</string>
						<string>"value041"</string>
						<string>"value042"</string>
						<string>"value043"</string>
						<string>"value044"</string>
						<string>"value045"</string>
						<string>"value046"</string>
						<string>"value047"</string>
						<string>"value048"</string>
						<string>"value049"</string>
						<string>"value050"</string>
						<string>"value051"</string>
						<string>"value052"</string>
						<string>"value053"</string>
						<string>"value054"</string>
						<string>"value055"</string>
						<string>"value056"</string>
						<string>"value057"</string>
						<string>"value058"</string>
						<string>"value059"</string>
						<string>"value060"</string>
						<string>"value061"</string>
						<string>"value062"</string>
						<string>"value063"</string>
						<string>"value064"</string>
						<string>"value065"</string>
						<string>"value066"</string>
						<string>"value067"</string>
						<string>"value068"</string>
						<string>"value069"</string>
						<string>"value070"</string>
						<string>"value071"</string>
						<string>"value072"</string>
						<string>"value073"</string>
						<string>"value074"</string>
						<string>"value075"</string>
						<string>"value076"</string>
						<string>"value077"</string>
						<string>"value078"</string>
						<string>"value079"</string>
						<string>"value080"</string>
						<string>"value081"</string>
						<string>"value082"</string>
						<string>"value083"</string>
						<string>"value084"</string>
						<string>"value085"</string>
						<string>"value086"</string>
						<string>"value087"</string>
						<string>"value088"</string>
						<string>"value089"</string>
						<string>"value090"</string>
						<string>"value091"</string>
						<string>"value092"</string>
						<string>"value093"</string>
						<string>"value094"</string>
						<string>"value095"</string>
						<string>"value096"</string>
						<string>"value097"</string>
						<string>"value098"</string>
						<string>"value099"</string>
						<!-- 1 new value (101), 1 value fewer (100) -->
						<string>"value101"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>

		<task>
			<name>ldap2ldapOptimizeValueReplacementTestUpdate2</name>
			<bean>org.lsc.beans.SimpleBean</bean>
			<ldapSourceService>
				<name>ldap2ldapOptimizeValueReplacementTestUpdate2-src</name>
				<connection reference="src-ldap"/>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=optimizevaluereplacement)</getAllFilter>
				<getOneFilter>(cn=optimizevaluereplacement)</getOneFilter>
				<cleanFilter>(cn=optimizevaluereplacement)</cleanFilter>
				<dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
				<interval>5</interval>
			</ldapSourceService>
			<ldapDestinationService>
				<name>ldap2ldapOptimizeValueReplacementTestUpdate2-dst</name>
				<connection reference="dst-ldap"></connection>
				<baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
				<pivotAttributes>
					<string>cn</string>
				</pivotAttributes>
				<fetchedAttributes>
					<string>cn</string>
					<string>description</string>
				</fetchedAttributes>
				<getAllFilter>(cn=optimizevaluereplacement)</getAllFilter>
				<getOneFilter>(cn=optimizevaluereplacement)</getOneFilter>
			</ldapDestinationService>
			<propertiesBasedSyncOptions>
				<mainIdentifier>"cn=optimizevaluereplacement,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
				<defaultDelimiter>,</defaultDelimiter>
				<defaultPolicy>FORCE</defaultPolicy>
				<dataset>
					<name>cn</name>
					<policy>FORCE</policy>
					<forceValues>
						<string>"optimizevaluereplacement"</string>
					</forceValues>
				</dataset>
				<dataset>
					<name>description</name>
					<policy>FORCE</policy>
					<forceValues>
						<!-- 1 identical value (101), 99 new values (102 to 200) -->
						<string>"value101"</string>
						<string>"value102"</string>
						<string>"value103"</string>
						<string>"value104"</string>
						<string>"value105"</string>
						<string>"value106"</string>
						<string>"value107"</string>
						<string>"value108"</string>
						<string>"value109"</string>
						<string>"value110"</string>
						<string>"value111"</string>
						<string>"value112"</string>
						<string>"value113"</string>
						<string>"value114"</string>
						<string>"value115"</string>
						<string>"value116"</string>
						<string>"value117"</string>
						<string>"value118"</string>
						<string>"value119"</string>
						<string>"value120"</string>
						<string>"value121"</string>
						<string>"value122"</string>
						<string>"value123"</string>
						<string>"value124"</string>
						<string>"value125"</string>
						<string>"value126"</string>
						<string>"value127"</string>
						<string>"value128"</string>
						<string>"value129"</string>
						<string>"value130"</string>
						<string>"value131"</string>
						<string>"value132"</string>
						<string>"value133"</string>
						<string>"value134"</string>
						<string>"value135"</string>
						<string>"value136"</string>
						<string>"value137"</string>
						<string>"value138"</string>
						<string>"value139"</string>
						<string>"value140"</string>
						<string>"value141"</string>
						<string>"value142"</string>
						<string>"value143"</string>
						<string>"value144"</string>
						<string>"value145"</string>
						<string>"value146"</string>
						<string>"value147"</string>
						<string>"value148"</string>
						<string>"value149"</string>
						<string>"value150"</string>
						<string>"value151"</string>
						<string>"value152"</string>
						<string>"value153"</string>
						<string>"value154"</string>
						<string>"value155"</string>
						<string>"value156"</string>
						<string>"value157"</string>
						<string>"value158"</string>
						<string>"value159"</string>
						<string>"value160"</string>
						<string>"value161"</string>
						<string>"value162"</string>
						<string>"value163"</string>
						<string>"value164"</string>
						<string>"value165"</string>
						<string>"value166"</string>
						<string>"value167"</string>
						<string>"value168"</string>
						<string>"value169"</string>
						<string>"value170"</string>
						<string>"value171"</string>
						<string>"value172"</string>
						<string>"value173"</string>
						<string>"value174"</string>
						<string>"value175"</string>
						<string>"value176"</string>
						<string>"value177"</string>
						<string>"value178"</string>
						<string>"value179"</string>
						<string>"value180"</string>
						<string>"value181"</string>
						<string>"value182"</string>
						<string>"value183"</string>
						<string>"value184"</string>
						<string>"value185"</string>
						<string>"value186"</string>
						<string>"value187"</string>
						<string>"value188"</string>
						<string>"value189"</string>
						<string>"value190"</string>
						<string>"value191"</string>
						<string>"value192"</string>
						<string>"value193"</string>
						<string>"value194"</string>
						<string>"value195"</string>
						<string>"value196"</string>
						<string>"value197"</string>
						<string>"value198"</string>
						<string>"value199"</string>
						<string>"value200"</string>
					</forceValues>
				</dataset>
			</propertiesBasedSyncOptions>
		</task>

	</tasks>
	<security>
		<encryption>
			<keyfile>etc/lsc.key</keyfile>
			<algorithm>AES</algorithm>
			<strength>128</strength>
		</encryption>
	</security>
</lsc>
