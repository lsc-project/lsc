<?xml version="1.0" ?>
<lsc xmlns="http://lsc-project.org/XSD/lsc-core-2.2.xsd" revision="0">
  <connections>
    <ldapConnection>
      <name>src-ldap</name>
      <url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
      <username>cn=Directory Manager</username>
      <password>secret</password>
      <authentication>SIMPLE</authentication>
      <referral>IGNORE</referral>
      <derefAliases>NEVER</derefAliases>
      <version>VERSION_3</version>
      <pageSize>-1</pageSize>
      <factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
      <tlsActivated>false</tlsActivated>
      <saslMutualAuthentication>false</saslMutualAuthentication>
      <binaryAttributes><string>personalSignature</string></binaryAttributes>
    </ldapConnection>
    <ldapConnection>
      <name>dst-ldap</name>
      <url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
      <username>cn=Directory Manager</username>
      <password>secret</password>
      <authentication>SIMPLE</authentication>
      <referral>IGNORE</referral>
      <derefAliases>NEVER</derefAliases>
      <version>VERSION_3</version>
      <pageSize>-1</pageSize>
      <factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
      <tlsActivated>false</tlsActivated>
      <saslMutualAuthentication>false</saslMutualAuthentication>
      <binaryAttributes><string>personalSignature</string></binaryAttributes>
    </ldapConnection>
    <ldapConnection>
      <name>dst-ldap-relaxrules</name>
      <url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
      <username>cn=Directory Manager</username>
      <password>secret</password>
      <authentication>SIMPLE</authentication>
      <referral>IGNORE</referral>
      <derefAliases>NEVER</derefAliases>
      <version>VERSION_3</version>
      <pageSize>-1</pageSize>
      <factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
      <tlsActivated>false</tlsActivated>
      <saslMutualAuthentication>false</saslMutualAuthentication>
      <relaxRules>true</relaxRules>
    </ldapConnection>
    <ldapConnection>
      <name>dst-ldap-recursivedelete</name>
      <url>ldap://localhost:33389/dc=lsc-project,dc=org</url>
      <username>cn=Directory Manager</username>
      <password>secret</password>
      <authentication>SIMPLE</authentication>
      <referral>IGNORE</referral>
      <derefAliases>NEVER</derefAliases>
      <version>VERSION_3</version>
      <pageSize>-1</pageSize>
      <factory>com.sun.jndi.ldap.LdapCtxFactory</factory>
      <tlsActivated>false</tlsActivated>
      <saslMutualAuthentication>false</saslMutualAuthentication>
      <recursiveDelete>true</recursiveDelete>
    </ldapConnection>
    <databaseConnection>
      <name>src-jdbc</name>
      <url>jdbc:hsqldb:file:hsqldb/lsc</url>
      <username>sa</username>
      <password></password>
      <driver>org.hsqldb.jdbcDriver</driver>
    </databaseConnection>
    <databaseConnection>
      <name>dst-jdbc</name>
      <url>jdbc:hsqldb:hsql://localhost/lscdb</url>
      <username>sa</username>
      <password></password>
      <driver>org.hsqldb.jdbcDriver</driver>
    </databaseConnection>
  </connections>
  <audits></audits>
  <tasks>
    <task>
      <name>ldap2ldapTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapTestTask-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>userPassword</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>jpegPhoto</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(sn=*))</getAllFilter>
        <getOneFilter>(sn={sn})</getOneFilter>
        <filterAsync>(&amp;(sn=*)(modifytimestamp&gt;={0}))</filterAsync>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapTestTask-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>jpegPhoto</string>
          <string>mail</string>
        </fetchedAttributes>
        <getAllFilter>(sn=*)</getAllFilter>
        <getOneFilter>(sn={sn})</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <dataset>
          <name>telephoneNumber</name>
          <policy>MERGE</policy>
          <defaultValues>
            <string>"123456"</string>
            <string>"789987"</string>
          </defaultValues>
          <createValues>
            <string>"000000"</string>
            <string>"11111"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>objectclass</name>
          <policy>MERGE</policy>
          <defaultValues>
            <string>"person"</string>
            <string>"top"</string>
          </defaultValues>
          <createValues>
            <string>"inetOrgPerson"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>initials</name>
          <policy>FORCE</policy>
          <createValues>
            <string>"cn=oops"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>default</name>
          <policy>FORCE</policy>
        </dataset>
        <dataset>
          <name>description</name>
          <policy>MERGE</policy>
          <forceValues>
			<string>
			    var j=0;
			    var dstDescriptionValues = new Array();
			    var srcDescriptionValues = srcBean.getDatasetById("description").toArray() ;
			    for (var i=0; i &lt; srcDescriptionValues.length; i++ ) {
			        if ( srcDescriptionValues[i] != null ) {
			        	// The sample just copy the value, but you can do what you want there !
			        	// Just keep in mind to force a correct data type because the source values are mapped to a generic Object type
			        	// which will not be well handled by the Javascript engine !
			        	dstDescriptionValues[j++] = "modified: " + srcDescriptionValues[i];
			       	}
			    }
			    dstDescriptionValues
			</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>seeAlso</name>
          <policy>FORCE</policy>
        </dataset>
         <dataset>
          <name>jpegPhoto</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>srcBean.getDatasetFirstBinaryValueById("jpegPhoto")</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>userPassword</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>mail</name>
          <policy>FORCE</policy>
          <createValues>
            <string>"ok@domain.net"</string>
          </createValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>db2ldapTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <databaseSourceService>
        <name>db2ldapTestTask-src</name>
        <connection reference="src-jdbc"/>
        <requestNameForList>getListTestDb2Ldap</requestNameForList>
        <requestNameForObject>getObjectTestDb2Ldap</requestNameForObject>
      </databaseSourceService>
      <ldapDestinationService>
        <name>db2ldapTestTask-dst</name>
        <connection reference="dst-ldap"/>
        <baseDn>ou=db2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>givenName</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>mail</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(sn=*)(givenName=*))</getAllFilter>
        <getOneFilter>(&amp;(sn={sn})(givenName={givenName}))</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("givenName") + " " + srcBean.getDatasetFirstValueById("sn") + ",ou=db2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <defaultValues></defaultValues>
          <forceValues>
            <string>srcBean.getDatasetFirstValueById("givenName") + " " + srcBean.getDatasetFirstValueById("sn")</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>telephoneNumber</name>
          <policy>MERGE</policy>
          <defaultValues>
            <string>"123456"</string>
            <string>"789987"</string>
          </defaultValues>
          <forceValues></forceValues>
          <createValues>
            <string>"000000"</string>
            <string>"11111"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <defaultValues>
            <string>"person"</string>
            <string>"top"</string>
            <string>"organizationalPerson"</string>
            <string>"inetOrgPerson"</string>
          </defaultValues>
          <forceValues></forceValues>
          <createValues></createValues>
        </dataset>
        <dataset>
          <name>default</name>
          <policy>FORCE</policy>
        </dataset>
        <dataset>
          <name>description</name>
          <policy>MERGE</policy>
          <defaultValues>
            <string>srcBean.getDatasetFirstValueById("userPassword")</string>
          </defaultValues>

        </dataset>
        <dataset>
          <name>userPassword</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>srcBean.getDatasetFirstValueById("password")</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapJmxTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapJmxTestTask-src</name>
        <connection reference="src-ldap" />
        <baseDn>ou=ldap2ldapJmxTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>userPassword</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(sn=*))</getAllFilter>
        <getOneFilter>(sn={sn})</getOneFilter>
        <filterAsync>(&amp;(sn=*)(modifytimestamp&gt;={0}))</filterAsync>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapJmxTestTask-dst</name>
        <connection reference="dst-ldap" />
        <baseDn>ou=ldap2ldapJmxTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>mail</string>
        </fetchedAttributes>
        <getAllFilter>(sn=*)</getAllFilter>
        <getOneFilter>(sn={sn})</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapJmxTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>FORCE</defaultPolicy>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>srcBean.getDatasetFirstValueById("cn")</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>objectclass</name>
          <policy>KEEP</policy>
          <createValues>
            <string>"person"</string>
            <string>"top"</string>
            <string>"organizationalPerson"</string>
            <string>"inetOrgPerson"</string>
          </createValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapBinaryTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapBinaryTestTask-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldapBinaryTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>personalSignature</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>userPassword</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>personalSignature</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(personalSignature=*))</getAllFilter>
        <getOneFilter>(personalSignature={personalSignature})</getOneFilter>
        <cleanFilter>(personalSignature={personalSignature})</cleanFilter>
        <filterAsync>(&amp;(personalSignature=*)(modifytimestamp&gt;={0}))</filterAsync>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapBinaryTestTask-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldapBinaryTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>personalSignature</string>
          <string>sn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>mail</string>
          <string>personalSignature</string>
        </fetchedAttributes>
        <getAllFilter>(personalSignature=*)</getAllFilter>
        <getOneFilter>(personalSignature={personalSignature})</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapBinaryTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>FORCE</defaultPolicy>
        <dataset>
          <name>objectClass</name>
          <policy>KEEP</policy>
          <createValues>
            <string>"pilotPerson"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>userPassword</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapBinary2StringTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapBinary2StringTestTask-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldapBinary2StringTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>personalSignature</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>userPassword</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>personalSignature</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(personalSignature=*))</getAllFilter>
        <getOneFilter>(personalSignature={personalSignature})</getOneFilter>
        <filterAsync>(&amp;(personalSignature=*)(modifytimestamp&gt;={0}))</filterAsync>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapBinary2StringTestTask-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldapBinary2StringTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>favouriteDrink</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>mail</string>
          <string>favouriteDrink</string>
        </fetchedAttributes>
        <getAllFilter>(favouriteDrink=*)</getAllFilter>
        <getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapBinary2StringTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <pivotTransformation>
        	<transformation fromAttribute="personalSignature" toAttribute="favouriteDrink"><![CDATA[js:
        		var result = "";
        		for (var i = 0; i < value.length; i++) {
        			if (result != "") {
        				result += "-";
        			}
        			result += parseInt(value[i]);
        		}
        		result;
        	]]></transformation>
        	<transformation fromAttribute="favouriteDrink" toAttribute="personalSignature"><![CDATA[js:
        		var result = [];
        		for (var i = 0; i < value.length; i++) {
        			if (value[i] != '-') {
        				result.push(parseInt(value[i]));
        			}
        		}
        		var javaResult = java.lang.reflect.Array.newInstance(java.lang.Byte.TYPE, result.length);
        		for (var i = 0; i < result.length ; i++) {
        			javaResult[i] = result[i];
        		}
        		javaResult;  
        	]]></transformation>
        </pivotTransformation>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>FORCE</defaultPolicy>
        <dataset>
          <name>objectClass</name>
          <policy>KEEP</policy>
          <createValues>
            <string>"pilotPerson"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>userPassword</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
          </forceValues>
        </dataset>
        <dataset>
        	<name>favouriteDrink</name>
        	<forceValues>
        	  <string><![CDATA[js:
        	    var value = srcBean.getDatasetById("personalSignature").iterator().next();
        		var result = "";
        		for (var i = 0; i < value.length; i++) {
        			if (result != "") {
        				result += "-";
        			}
        			result += parseInt(value[i]);
        		}
        		result;
        	]]></string>
        	</forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapSamePivotConversionTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapSamePivotConversionTestTask-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldapSamePivotConversionTestTaskSrc,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>favouriteDrink</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>userPassword</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>favouriteDrink</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(favouriteDrink=*))</getAllFilter>
        <getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
        <filterAsync>(&amp;(favouriteDrink=*)(modifytimestamp&gt;={0}))</filterAsync>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapSamePivotConversionTestTask-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldapSamePivotConversionTestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>favouriteDrink</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>cn</string>
          <string>objectClass</string>
          <string>userPassword</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>seeAlso</string>
          <string>mail</string>
          <string>favouriteDrink</string>
        </fetchedAttributes>
        <getAllFilter>(favouriteDrink=*)</getAllFilter>
        <getOneFilter>(favouriteDrink={favouriteDrink})</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=" + srcBean.getDatasetFirstValueById("cn") + ",ou=ldap2ldapSamePivotConversionTestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <pivotTransformation>
        	<transformation fromAttribute="favouriteDrink" toAttribute="favouriteDrink" pivotOrigin="SOURCE"><![CDATA[js:
        		value.replace('-src', '-dst');
        	]]></transformation>
        	<transformation fromAttribute="favouriteDrink" toAttribute="favouriteDrink" pivotOrigin="DESTINATION"><![CDATA[js:
        		value.replace('-dst', '-src');
        	]]></transformation>
        </pivotTransformation>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>FORCE</defaultPolicy>
        <dataset>
          <name>objectClass</name>
          <policy>KEEP</policy>
          <createValues>
            <string>"pilotPerson"</string>
          </createValues>
        </dataset>
        <dataset>
          <name>userPassword</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"secret" + srcBean.getDatasetFirstValueById("cn")</string>
          </forceValues>
        </dataset>
        <dataset>
        	<name>favouriteDrink</name>
        	<forceValues>
        	  <string><![CDATA[js:
        	    var value = srcBean.getDatasetFirstValueById("favouriteDrink");
        	    value.replace('-src', '-dst');
        	]]></string>
        	</forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2dbTestTask</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2dbTestTask-src</name>
        <connection reference="src-ldap" />
        <baseDn>ou=ldap2db2TestTask,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>externalId</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>externalId</string>
          <string>description</string>
          <string>cn</string>
          <string>sn</string>
          <string>telephoneNumber</string>
          <string>carLicense</string>
        </fetchedAttributes>
        <getAllFilter>(&amp;(externalId=*))</getAllFilter>
        <getOneFilter>(externalId={externalId})</getOneFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
      </ldapSourceService>
      <databaseDestinationService>
        <name>ldap2dbTestTask-dst</name>
        <connection reference="dst-jdbc"/>
        <requestNameForList>getInetOrgPersonList</requestNameForList>
        <requestNameForObject>getInetOrgPerson</requestNameForObject>
        <requestsNameForInsert>
          <string>insertInetOrgPerson</string>
        </requestsNameForInsert>
        <requestsNameForUpdate>
          <string>updateInetOrgPerson</string>
        </requestsNameForUpdate>
        <requestsNameForDelete>
          <string>deleteInetOrgPerson</string>
        </requestsNameForDelete>
      </databaseDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>srcBean.getMainIdentifier()</mainIdentifier>
        <defaultDelimiter>|</defaultDelimiter>
        <defaultPolicy>FORCE</defaultPolicy>
      </propertiesBasedSyncOptions>      
    </task>
    <task>
      <name>ldap2ldapOrderedTestTask1</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapOrderedTestTask1-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-B)</getAllFilter>
        <getOneFilter>(cn=CN0001-B)</getOneFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapOrderedTestTask1-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-C)</getAllFilter>
        <getOneFilter>(cn=CN0001-C)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-C,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-C"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>sn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-C"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapOrderedTestTask2</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapOrderedTestTask2-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-A)</getAllFilter>
        <getOneFilter>(cn=CN0001-A)</getOneFilter>
        <cleanFilter>(cn=CN0001-A)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapOrderedTestTask2-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-B)</getAllFilter>
        <getOneFilter>(cn=CN0001-B)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-B,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-B"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>sn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-B"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapOrderedTestTask3</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapOrderedTestTask3-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001)</getAllFilter>
        <getOneFilter>(cn=CN0001)</getOneFilter>
        <cleanFilter>(cn=CN0001)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapOrderedTestTask3-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-A)</getAllFilter>
        <getOneFilter>(cn=CN0001-A)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-A,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-A"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>sn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-A"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapLDIFHookTestCreate</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapLDIFHookTestCreate-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001)</getAllFilter>
        <getOneFilter>(cn=CN0001)</getOneFilter>
        <cleanFilter>(cn=CN0001)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapLDIFHookTestCreate-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>ldif</outputFormat>
          <createPostHook>bin/hook-ldif.sh</createPostHook>
        </hooks>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>sn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapLDIFHookTestUpdate</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapLDIFHookTestUpdate-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001)</getAllFilter>
        <getOneFilter>(cn=CN0001)</getOneFilter>
        <cleanFilter>(cn=CN0001)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapLDIFHookTestUpdate-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>ldif</outputFormat>
          <updatePostHook>bin/hook-ldif.sh</updatePostHook>
        </hooks>
        <dataset>
          <name>description</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapLDIFHookTestDelete</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapLDIFHookTestDelete-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getAllFilter>
        <getOneFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getOneFilter>
        <cleanFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapLDIFHookTestDelete-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>description</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>ldif</outputFormat>
          <deletePostHook>bin/hook-ldif.sh</deletePostHook>
        </hooks>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapJSONHookTestCreate</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapJSONHookTestCreate-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001)</getAllFilter>
        <getOneFilter>(cn=CN0001)</getOneFilter>
        <cleanFilter>(cn=CN0001)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapJSONHookTestCreate-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>json</outputFormat>
          <createPostHook>bin/hook-json.sh</createPostHook>
        </hooks>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>sn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapJSONHookTestUpdate</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapJSONHookTestUpdate-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001)</getAllFilter>
        <getOneFilter>(cn=CN0001)</getOneFilter>
        <cleanFilter>(cn=CN0001)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapJSONHookTestUpdate-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>description</string>
          <string>userCertificate;binary</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>json</outputFormat>
          <updatePostHook>bin/hook-json.sh</updatePostHook>
        </hooks>
        <dataset>
          <name>description</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>userCertificate;binary</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>
            <![CDATA[
              function toBinary(base64) {
                  return java.util.Base64.getDecoder().decode(new java.lang.String(base64));
              }
              toBinary("MIIDkTCCAnmgAwIBAgIUDhx/9qofTrT+yNFFvihdDn7rjOQwDQYJKoZIhvcNAQELBQAwWDELMAkGA1UEBhMCRlIxDTALBgNVBAgMBHRlc3QxDTALBgNVBAcMBHRlc3QxDTALBgNVBAoMBHRlc3QxDTALBgNVBAsMBHRlc3QxDTALBgNVBAMMBHRlc3QwHhcNMjMxMDI3MTQzMDQxWhcNMzMxMDI0MTQzMDQxWjBYMQswCQYDVQQGEwJGUjENMAsGA1UECAwEdGVzdDENMAsGA1UEBwwEdGVzdDENMAsGA1UECgwEdGVzdDENMAsGA1UECwwEdGVzdDENMAsGA1UEAwwEdGVzdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKdWt0QgFnEi7a1hIJQv4ZdOM5y0GGLHQYNrUNSReArvpkYUY5zasFNVzVHCApRuj0t1NMDrn1gNzKkxTIbYGaWRSn+21J0ow+Nxh2TAQW8dkJnWTksCfyGGGItI5q3ST3EUKnepaAzUYYENcSHRyx7UY/3XuzcW0aGhy4PrVTIHBpyLq0Uzv8nH5nbWM+LYt6YbQMmlAz/psTXIC2dfEZhUb4plLGSo7rZxM5geC6Z+os+I8+uw+mGjps1VP7eGq0jCGHNs2rUHMqBNgLvwMH2WlMXo/iNarAb8fUEPdp59FwiTygBlWAn6GoKHJ1HWPpqMxdtjL2Y5+ZMcp70eJqcCAwEAAaNTMFEwHQYDVR0OBBYEFLwffjUBL/Rp4a6MgeCJiFnCZFu8MB8GA1UdIwQYMBaAFLwffjUBL/Rp4a6MgeCJiFnCZFu8MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBACjwsg1Z9PyauoKAhkIfyPTEnlEOCo1nN37c2vnH4fyY6fuBdV6GWtk/u9FCuDmYT/4KDRxe33ZUChwSUX0INgamOarWRES3UoPC1GeOvuMf7uustEMLcHAYZVKXSZUrsOjw+VIZ5XrD6GDE64QtvW5Ve3jf43aGgLf27NF0vhF9+gHOZjjBT33S977HUutMUKfRu9PdHAn8Yb1FmSbAvqqK+SAjn6cJC8l5yS5t0BSNQGbKSA8bPzvWI9HXYVvb+ym6GDrsr+Zad3NrqUSZGzS2JFEDVD9aAikldXu6g02fA5A7nufVePmaG7iTyylO/ZU2lTiJ0SHc2DnO0pg2i+0=")
            ]]>
            </string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
    <task>
      <name>ldap2ldapJSONHookTestDelete</name>
      <bean>org.lsc.beans.SimpleBean</bean>
      <ldapSourceService>
        <name>ldap2ldapJSONHookTestDelete-src</name>
        <connection reference="src-ldap"/>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
        </fetchedAttributes>
        <getAllFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getAllFilter>
        <getOneFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</getOneFilter>
        <cleanFilter>(cn=7SlBBCtxp0ILsbBEp_DeUjS69rpgpWIbOfhXLGvP2HvGY_g_XecLW9J8ymR5b7qN)</cleanFilter>
        <dateFormat>yyyyMMddHHmmss'Z'</dateFormat>
        <interval>5</interval>
      </ldapSourceService>
      <ldapDestinationService>
        <name>ldap2ldapJSONHookTestDelete-dst</name>
        <connection reference="dst-ldap"></connection>
        <baseDn>ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org</baseDn>
        <pivotAttributes>
          <string>cn</string>
        </pivotAttributes>
        <fetchedAttributes>
          <string>cn</string>
          <string>sn</string>
          <string>description</string>
          <string>objectClass</string>
        </fetchedAttributes>
        <getAllFilter>(cn=CN0001-hook)</getAllFilter>
        <getOneFilter>(cn=CN0001-hook)</getOneFilter>
      </ldapDestinationService>
      <propertiesBasedSyncOptions>
        <mainIdentifier>"cn=CN0001-hook,ou=ldap2ldap2TestTaskDst,ou=Test Data,dc=lsc-project,dc=org"</mainIdentifier>
        <defaultDelimiter>,</defaultDelimiter>
        <defaultPolicy>KEEP</defaultPolicy>
        <hooks>
          <outputFormat>json</outputFormat>
          <deletePostHook>bin/hook-json.sh</deletePostHook>
        </hooks>
        <dataset>
          <name>objectclass</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"inetOrgPerson"</string>
            <string>"person"</string>
            <string>"top"</string>
          </forceValues>
        </dataset>
        <dataset>
          <name>cn</name>
          <policy>FORCE</policy>
          <forceValues>
            <string>"CN0001-hook"</string>
          </forceValues>
        </dataset>
      </propertiesBasedSyncOptions>
    </task>
  </tasks>
  <security>
    <encryption>
      <keyfile>etc/lsc.key</keyfile>
      <algorithm>AES</algorithm>
      <strength>128</strength>
    </encryption>
  </security>
</lsc>
